apiVersion: v1
kind: Pod
metadata:
  name: hosted-process
  namespace: demo-ns
  labels:
    app: hosted-process
spec:
  containers:
  - name: hostedprocess
    image: hostedprocess:latest
    imagePullPolicy: Never
    env:
    - name: HOSTEDPROCESS__HEALTHCHECK__PROCESSTIMEOUTSECONDS
      value: '40'
    - name: HOSTEDPROCESS__HEALTHCHECK__PROTOCOL
      value: 'http'
    - name: HOSTEDPROCESS__HEALTHCHECK__PORT
      value: '5000'
    ports:
    - name: health-check
      containerPort: 5000
      hostPort: 5000
#    readinessProbe:
#      tcpSocket:
#        port: health-check
#      initialDelaySeconds: 5
#      failureThreshold: 2
#      timeoutSeconds: 3
#      periodSeconds: 10
    livenessProbe:
      tcpSocket:
        port: health-check
#      httpGet:
#         path: /health
#         port: health-check
#         scheme: HTTP
      initialDelaySeconds: 5
      failureThreshold: 2
      timeoutSeconds: 3
      periodSeconds: 10